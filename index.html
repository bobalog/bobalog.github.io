<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>bobalog ë¡œê·¸ì¸</title>
  <style>
    body{margin:0; font-family: system-ui, sans-serif; background:#fdf0f5; display:flex; justify-content:center; padding:24px;}
    .card{width:100%; max-width:520px; background:#fff; border-radius:22px; padding:18px; box-shadow:0 10px 22px rgba(255,175,204,.18); border:1px solid rgba(255,200,221,.45);}
    h1{margin:0 0 12px; color:#ff8fab; font-size:22px;}
    input{width:100%; padding:12px; border:1px solid #ffc8dd; border-radius:12px; outline:none; box-sizing:border-box; font-size:16px; margin-bottom:10px;}
    .row{display:flex; gap:8px; flex-wrap:wrap;}
    button{border:0; border-radius:12px; padding:10px 12px; font-weight:700; cursor:pointer; color:#fff; background:#ffafcc;}
    button.secondary{background:#cdb4db;}
    button.danger{background:#ff5d73;}
    #status{margin-top:12px; color:#555; font-weight:700;}
    .hint{margin-top:8px; font-size:13px; color:#888;}
  </style>
</head>
<body>
  <div class="card">
    <h1>ğŸ” bobalog ë¡œê·¸ì¸</h1>

    <input id="email" type="email" placeholder="email (ì˜ˆ: abc@gmail.com)" />
    <input id="pw" type="password" placeholder="password" />

    <div class="row">
      <button onclick="signUp()">íšŒì›ê°€ì…</button>
      <button class="secondary" onclick="signIn()">ë¡œê·¸ì¸</button>
      <button class="danger" onclick="signOut()">ë¡œê·¸ì•„ì›ƒ</button>
    </div>

    <div id="status">ìƒíƒœ: ì¤€ë¹„ ì¤‘â€¦</div>
    <div class="hint">
      âœ… GitHub ì½”ë“œ í™”ë©´ì—ì„œëŠ” ë™ì‘ ì•ˆ í•¨<br/>
      âœ… GitHub Pages ì£¼ì†Œë¡œ ë“¤ì–´ê°€ì•¼ ì‘ë™í•´!
    </div>
  </div>

  <script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script>
    const SUPABASE_URL = "https://hyydywzsvnfhdrexntnl.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWR5d3pzdm5maGRyZXhudG5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMjE3MTAsImV4cCI6MjA4MTY5NzcxMH0.2vrbtBozzHeUle9a1foYmsz4o3jkPN5GtbBM0F-eK20";

    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    const statusEl = document.getElementById('status');

    async function refreshStatus(){
      const { data } = await supabase.auth.getSession();
      const user = data?.session?.user;
      statusEl.textContent = user ? `ìƒíƒœ: ë¡œê·¸ì¸ âœ… (${user.email})` : "ìƒíƒœ: ë¡œê·¸ì•„ì›ƒ";
    }

    async function signUp(){
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('pw').value.trim();
      const { error } = await supabase.auth.signUp({ email, password });
      statusEl.textContent = error ? ("íšŒì›ê°€ì… ì‹¤íŒ¨: " + error.message) : "íšŒì›ê°€ì… ì™„ë£Œ! ì´ì œ ë¡œê·¸ì¸í•´ì¤˜ ğŸ€";
      await refreshStatus();
    }

    async function signIn(){
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('pw').value.trim();
      const { data, error } = await supabase.auth.signInWithPassword({ email, password });
      statusEl.textContent = error ? ("ë¡œê·¸ì¸ ì‹¤íŒ¨: " + error.message) : ("ë¡œê·¸ì¸ ì„±ê³µ! ğŸ§‹ " + data.user.email);
      await refreshStatus();
    }

    async function signOut(){
      const { error } = await supabase.auth.signOut();
      statusEl.textContent = error ? ("ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨: " + error.message) : "ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ!";
      await refreshStatus();
    }

    refreshStatus();
  </script>
</body>
</html>
