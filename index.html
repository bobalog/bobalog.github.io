// index.html의 <script> 부분만 이걸로 싹 갈아끼워봐!
async function signIn() {
  // 1. 버튼 눌렸는지 확인용 알림
  console.log("로그인 시도 시작!");
  
  try {
    // 2. 입력값 제대로 가져오는지 체크
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-pw').value;
    
    if (!supabase) {
      alert("❌ 서버 연결 도구(Supabase)가 로드되지 않았어! 새로고침 해봐.");
      return;
    }

    // 3. 실제 로그인 시도
    const { data, error } = await supabase.auth.signInWithPassword({ 
      email: email, 
      password: password 
    });

    if (error) {
      alert("❌ 로그인 거부: " + error.message);
    } else {
      alert("✅ 인증 성공! 대시보드로 이동합니다.");
      location.reload(); 
    }
  } catch (e) {
    alert("⚠️ 치명적 에러: " + e.message);
  }
}
