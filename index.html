<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bobalog ìƒì‚°ì„± ë³¸ë¶€ ğŸ§‹</title>
  <style>
    @font-face {
      font-family: 'Mabiyet';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207-01@1.0/MabinogiClassicR.woff2') format('woff2');
      font-weight: normal; font-display: swap;
    }
    :root { --main-pink: #ffafcc; --sub-pink: #ffc8dd; --bg-color: #fdf0f5; --text-color: #555; }
    body { background-color: var(--bg-color); font-family: 'Mabiyet', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; color: var(--text-color); margin: 0; }
    .container { width: 100%; max-width: 520px; }
    .card { background: white; padding: 20px; border-radius: 25px; box-shadow: 0 10px 20px rgba(255,175,204,0.2); margin-bottom: 20px; border: 2px solid #fff; }
    .btn { padding: 8px 15px; border-radius: 15px; border: none; color: white; cursor: pointer; text-decoration: none; font-size: 14px; font-weight: bold; transition: 0.2s; display: inline-block; margin: 2px; font-family: 'Mabiyet'; }
    .ai-btn { background: var(--main-pink); }
    .stock-btn { background: #cdb4db; }
    .danger-btn { background: #ff5d73; }
    h1 { color: #ff8fab; margin: 10px 0; font-size: 1.8em; text-align: center; }
    h2 { font-size: 1.3em; color: #ff8fab; border-bottom: 2px solid var(--sub-pink); padding-bottom: 5px; margin-top: 0; }
    #clock { color: #ff8fab; font-weight: bold; font-size: 1.1em; text-align:center; }
    .hint { font-size: 0.85em; color: #888; margin-top: 6px; line-height: 1.35; }
    input, textarea { width: 100%; padding: 12px; border: 1px solid var(--sub-pink); border-radius: 12px; outline: none; box-sizing: border-box; font-family: 'Mabiyet'; font-size: 16px; }
    ul { list-style: none; padding: 0; margin: 0; }
    li { background: #fff5f8; padding: 12px; margin: 8px 0; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #ffeef2; }
    .done { text-decoration: line-through; opacity: 0.55; }
    .row { display:flex; gap:6px; align-items:center; flex-wrap: wrap; }
    .row .grow { flex:1; }
    .chip { font-size:12px; padding:3px 8px; border-radius:999px; background:#ffe5ee; border:1px solid #ffd0df; color:#a35a72; }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" style="text-align:center;">
      <div style="margin-bottom: 12px;">
        <a href="https://chatgpt.com" target="_blank" class="btn ai-btn">GPT</a>
        <a href="https://gemini.google.com" target="_blank" class="btn ai-btn">Gemini</a>
        <a href="https://grok.com" target="_blank" class="btn ai-btn">Grok</a>
      </div>
      <div style="border-top: 1px dashed var(--sub-pink); padding-top: 10px; margin-bottom: 10px;">
        <a href="https://finance.naver.com/item/main.naver?code=005930" target="_blank" class="btn stock-btn">ì‚¼ì„±ì „ì ğŸ“ˆ</a>
        <a href="https://finance.naver.com/sise/sise_index.naver?code=KOSPI" target="_blank" class="btn stock-btn">KOSPI ğŸ“Š</a>
      </div>
      <h1>ğŸ§‹ bobalog ë³¸ë¶€</h1>
      <p id="clock"></p>
    </div>

    <div class="card">
      <h2>ğŸ” ë¡œê·¸ì¸</h2>
      <button class="btn stock-btn" onclick="oneClickLogin()" style="width:100%; padding:12px; border-radius:12px; font-size:16px;">ë¡œê·¸ì¸í•˜ê¸° âœ…</button>
      <div class="hint">
        <span class="chip" id="login-chip">ìƒíƒœ: í™•ì¸ ì¤‘â€¦</span><br/>
        ğŸš© <b>ì‹¤íŒ¨ ì‹œ ì¡°ì¹˜:</b> Supabase > Auth > Usersì— ì´ë©”ì¼ì´ ìˆëŠ”ì§€ í™•ì¸!
      </div>
    </div>

    <div class="card">
      <h2>âœ… To-Do</h2>
      <div class="row" style="margin-bottom:10px;">
        <input type="text" id="todo-input" class="grow" placeholder="ë­ í• ê¹Œ?" />
        <button onclick="addTodo()" class="btn ai-btn">ì¶”ê°€</button>
      </div>
      <ul id="todo-list"></ul>
    </div>
  </div>

  <script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script>
    const SUPABASE_URL = "https://hyydywzsvnfhdrexntnl.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWR5d3pzdm5maGRyZXhudG5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMjE3MTAsImV4cCI6MjA4MTY5NzcxMH0.2vrbtBozzHeUle9a1foYmsz4o3jkPN5GtbBM0F-eK20";
    
    const chip = document.getElementById('login-chip');
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    async function oneClickLogin(){
      chip.innerText = "ìƒíƒœ: ì‹œë„ ì¤‘...";
      const { data, error } = await supabase.auth.signInWithPassword({
        email: "abc.bobatea@gmail.com",
        password: "rltgjqm"
      });
      
      if(error) {
        chip.innerText = "ìƒíƒœ: ì—ëŸ¬ - " + error.message; // ì—¬ê¸°ì„œ ì—ëŸ¬ ì´ìœ ë¥¼ ì•Œë ¤ì¤„ ê±°ì•¼!
        console.error(error);
      } else {
        chip.innerText = "ìƒíƒœ: ë¡œê·¸ì¸ âœ… (" + data.user.email + ")";
        await pullTasksFromDB();
      }
    }

    // ... (ë‚˜ë¨¸ì§€ íˆ¬ë‘/ì‹œê³„ í•¨ìˆ˜ë“¤ì€ ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ì‘ë™í•´!)
    function updateClock() { document.getElementById('clock').innerText = new Date().toLocaleString('ko-KR'); }
    setInterval(updateClock, 1000); updateClock();

    let todos = JSON.parse(localStorage.getItem('todos')) || [];
    function render() {
      const list = document.getElementById('todo-list');
      list.innerHTML = '';
      todos.forEach((t, i) => {
        const li = document.createElement('li');
        if(t.done) li.classList.add('done');
        li.innerHTML = `<span>${t.text}</span><button class="btn danger-btn" onclick="deleteTodo(${i})">ì‚­ì œ</button>`;
        list.appendChild(li);
      });
      localStorage.setItem('todos', JSON.stringify(todos));
    }
    async function addTodo() {
      const input = document.getElementById('todo-input');
      if(!input.value) return;
      todos.unshift({text: input.value, done: false});
      input.value = ''; render();
    }
    function deleteTodo(i) { todos.splice(i, 1); render(); }
    render();
  </script>
</body>
</html>
