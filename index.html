<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>bobalog ì´ˆê°•ë ¥ ë²„ì „ ğŸ§‹</title>
    <style>
        @font-face { font-family: 'Mabiyet'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207-01@1.0/MabinogiClassicR.woff2') format('woff2'); }
        body { background: #fdf0f5; font-family: 'Mabiyet', sans-serif; padding: 20px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 480px; }
        .card { background: white; padding: 20px; border-radius: 25px; box-shadow: 0 8px 15px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .btn { padding: 12px; border-radius: 15px; border: none; background: #ffafcc; color: white; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        input { width: 100%; padding: 12px; border: 1px solid #ffc8dd; border-radius: 12px; box-sizing: border-box; margin-bottom: 10px; }
        .done { text-decoration: line-through; opacity: 0.5; }
        /* ì´ë²ˆì—” hiddenì„ ì•„ì˜ˆ ì•ˆ ì¨ì„œ ë¬´ì¡°ê±´ ë³´ì´ê²Œ í•¨! */
    </style>
</head>
<body>

<div class="container">
    <div class="card" style="text-align: center;">
        <h1 style="color: #ff8fab;">ğŸ§‹ bobalog ë³¸ë¶€</h1>
        <p id="status-text" style="font-size: 12px; color: red;">âš ï¸ ë¡œê·¸ì¸ ì „ (ë¡œì»¬ ëª¨ë“œ)</p>
    </div>

    <div class="card" id="auth-box">
        <input type="email" id="u-email" value="abc.bobatea@gmail.com">
        <input type="password" id="u-pw" value="rltgjqm">
        <button class="btn" onclick="emergencyLogin()">ì¸ì¦í•˜ê³  DB ì—°ê²°í•˜ê¸° âœ…</button>
    </div>

    <div class="card">
        <div style="display: flex; gap: 5px; margin-bottom: 15px;">
            <a href="https://gemini.google.com" target="_blank" style="flex:1; background:#cdb4db; color:white; padding:10px; border-radius:10px; text-decoration:none; text-align:center;">Gemini</a>
            <a href="https://chatgpt.com" target="_blank" style="flex:1; background:#cdb4db; color:white; padding:10px; border-radius:10px; text-decoration:none; text-align:center;">GPT</a>
        </div>
        <input type="text" id="t-input" placeholder="í•  ì¼ ì…ë ¥...">
        <button class="btn" style="background: #cdb4db;" onclick="localAdd()">í•  ì¼ ì¶”ê°€</button>
        <ul id="t-list"></ul>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    let supabase;
    // ì‹œì‘í•˜ìë§ˆì ì‹¤í–‰
    window.onload = () => {
        console.log("í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ");
        try {
            supabase = window.supabase.createClient("https://hyydywzsvnfhdrexntnl.supabase.co", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5eWR5d3pzdm5maGRyZXhudG5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMjE3MTAsImV4cCI6MjA4MTY5NzcxMH0.2vrbtBozzHeUle9a1foYmsz4o3jkPN5GtbBM0F-eK20");
        } catch(e) { console.error("Supabase ë¡œë“œ ì‹¤íŒ¨"); }
        renderLocal();
    };

    async function emergencyLogin() {
        alert("ë²„íŠ¼ ëˆŒë¦¼! ì¸ì¦ ì‹œë„í•©ë‹ˆë‹¤."); // í´ë¦­ í™•ì¸ìš©
        const email = document.getElementById('u-email').value;
        const pw = document.getElementById('u-pw').value;
        
        const { data, error } = await supabase.auth.signInWithPassword({ email, password: pw });
        
        if (error) {
            alert("ì‹¤íŒ¨: " + error.message);
        } else {
            alert("ì„±ê³µ! ì´ì œ DBë‘ ë™ê¸°í™”ë¼!");
            document.getElementById('status-text').innerText = "âœ… DB ì—°ê²° ì™„ë£Œ";
            document.getElementById('status-text').style.color = "green";
        }
    }

    function localAdd() {
        const val = document.getElementById('t-input').value;
        if(!val) return;
        const list = document.getElementById('t-list');
        const li = document.createElement('li');
        li.innerText = val;
        list.appendChild(li);
        document.getElementById('t-input').value = '';
    }
</script>
</body>
</html>
